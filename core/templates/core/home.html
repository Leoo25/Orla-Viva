{% extends 'base.html' %}
{% load static %}

{% block titulo %}Home | Orla Viva{% endblock %}

{% block conteudo %}
<main class="overflow-hidden">

  <section class="relative flex flex-col items-center justify-center h-screen text-center text-white overflow-hidden">

      <div class="absolute inset-0 z-0">
          <img src="{% static 'images/mainbg.png' %}" alt="Background" >
      </div>

      <div class="absolute inset-0 z-10 bg-gradient-to-t from-black/60 via-black/30 to-black/20 backdrop-blur-[2px]"></div>

      <div class="relative z-20 container mx-auto px-4 flex flex-col items-center justify-center h-full pt-20">
          
          <h1 class="font-inter font-extrabold text-5xl md:text-7xl lg:text-8xl leading-tight tracking-tighter drop-shadow-2xl mb-6">
              Seu assistente<br>
              <span class="text-transparent bg-clip-text bg-gradient-to-r from-white via-white to-white/70">
                  turístico da Praia Grande
              </span>
          </h1>

          <p class="text-lg md:text-xl text-white/90 max-w-2xl mx-auto font-light mb-12 drop-shadow-md">
             Descubra os segredos da orla, eventos exclusivos e a gastronomia local.
          </p>

          <a href="#recomendacoes" class="group relative flex items-center justify-center w-16 h-16 md:w-20 md:h-20 rounded-full 
                                          bg-white/10 backdrop-blur-md border border-white/20 shadow-[0_0_40px_rgba(0,0,0,0.2)]
                                          hover:bg-white/20 hover:scale-110 hover:border-white/40 transition-all duration-500 ease-out">
              
              <div class="absolute inset-0 rounded-full border border-white/10 animate-ping opacity-20"></div>

              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" class="w-8 h-8 md:w-10 md:h-10 animate-bounce mt-2">
                  <defs>
                      <linearGradient id="arrowGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                          <stop offset="0%" style="stop-color:#FF0080; stop-opacity:1" />
                          <stop offset="100%" style="stop-color:#FFEA00; stop-opacity:1" />
                      </linearGradient>
                  </defs>
                  <path stroke="url(#arrowGradient)" stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
              </svg>
          </a>
      </div>
  </section>

  <section id="recomendacoes" class="relative py-24 bg-slate-50 overflow-hidden">
    <div class="absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-zinc-200 to-transparent"></div>
    <div class="absolute -top-[300px] -right-[300px] w-[600px] h-[600px] bg-blue-400/10 rounded-full blur-[100px] pointer-events-none"></div>
    <div class="absolute -bottom-[300px] -left-[300px] w-[600px] h-[600px] bg-pink-400/10 rounded-full blur-[100px] pointer-events-none"></div>

    <div class="container mx-auto px-4 relative z-10">
      
      <div class="text-center mb-16">
          <h2 class="text-3xl md:text-4xl font-bold text-zinc-900 tracking-tight mb-4">Explore por Categoria</h2>
          <div class="h-1 w-20 bg-gradient-to-r from-[#FF0080] to-[#FFEA00] mx-auto rounded-full"></div>
      </div>

      <div class="swiper swiper-recommendations px-4 pb-10">
        <div class="swiper-wrapper">
          {% for categoria in categorias %}
          <a href="{% url 'recomendacoes' %}" class="swiper-slide group block h-auto bg-white/70 backdrop-blur-xl 
                                                     border border-white/60 rounded-3xl overflow-hidden shadow-sm 
                                                     hover:shadow-glass-lg hover:-translate-y-2 transition-all duration-500">
            <div class="h-56 overflow-hidden relative">
              <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 z-10"></div>
              <img src="{{ categoria.imagem.url }}" alt="{{ categoria.nome }}"
                class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
            </div>
            
            <div class="p-6 relative">
              <h3 class="font-bold text-xl text-zinc-800 mb-2 group-hover:text-[#FF0080] transition-colors">{{ categoria.nome }}</h3>
              <div class="flex items-center text-sm font-medium text-zinc-500 group-hover:text-zinc-800 transition-colors gap-2">
                <span>Ver opções</span>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4 transform group-hover:translate-x-1 transition-transform">
                  <path fill-rule="evenodd" d="M3 10a.75.75 0 01.75-.75h10.638L10.23 5.29a.75.75 0 111.04-1.08l5.5 5.25a.75.75 0 010 1.08l-5.5 5.25a.75.75 0 11-1.04-1.08l4.158-3.96H3.75A.75.75 0 013 10z" clip-rule="evenodd" />
                </svg>
              </div>
            </div>
          </a>
          {% endfor %}
        </div>
        
        <div class="swiper-pagination !bottom-0"></div>
      </div>
    </div>
  </section>

  <section id="mapa" class="py-20 bg-white relative">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl md:text-4xl font-bold text-center text-zinc-900 mb-12">Mapa de Eventos</h2>
            
            <div class="w-full max-w-5xl mx-auto h-[400px] md:h-[600px] rounded-3xl 
                        overflow-hidden shadow-2xl border-[6px] border-white/50 bg-zinc-100 relative z-10">
                {{ mapa|safe }}
            </div>
            
            <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[110%] h-[80%] bg-gradient-to-tr from-blue-200/20 to-purple-200/20 blur-3xl rounded-full -z-0 pointer-events-none"></div>
        </div>
    </section>

    <section class="relative py-24 overflow-hidden">
        <div class="absolute inset-0 bg-zinc-50"></div>
        
        <div class="container mx-auto px-6 relative z-10 text-center">
            <h2 class="text-4xl md:text-5xl font-extrabold text-zinc-900 mb-6 tracking-tight">
                Explore Praia Grande<br>
                <span class="text-transparent bg-clip-text bg-gradient-to-r from-[#FF0080] to-[#FFEA00]">como Nunca Antes</span>
            </h2>
            <p class="text-xl text-zinc-600 mb-10 max-w-2xl mx-auto font-light">
                Veja o que está acontecendo agora mesmo, encontre seu próximo restaurante favorito 
                ou descubra um evento imperdível.
            </p>
            
            <a href="#mapa"
                class="inline-flex items-center gap-2 bg-zinc-900 text-white font-bold py-4 px-10 rounded-full text-lg 
                       shadow-xl shadow-zinc-900/20 hover:shadow-2xl hover:scale-105 hover:-translate-y-1 transition-all duration-300">
                Ver o Mapa Interativo
            </a>
        </div>
    </section>

  {% block extra_scripts %}
  <script>
   document.addEventListener('DOMContentLoaded', function () {
    const swiper = new Swiper('.swiper-recommendations', {
      loop: true,
      slidesPerView: 1.2,
      spaceBetween: 20,
      centeredSlides: false,
      grabCursor: true,
      pagination: {
          el: ".swiper-pagination",
          clickable: true,
        },
      breakpoints: {
        640: { slidesPerView: 2.2, spaceBetween: 24 },
        1024: { slidesPerView: 3.2, spaceBetween: 32 },
        1280: { slidesPerView: 4, spaceBetween: 32 },
      },
    });
  });
  </script>
  {% endblock extra_scripts %}
</main>
{% endblock %}