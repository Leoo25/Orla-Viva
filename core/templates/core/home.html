{% extends 'base.html' %}
{% load static %}

{% block titulo %}Home | Orla Viva{% endblock %}

{% block conteudo %}
<main class="overflow-x-hidden bg-slate-50">

  <section class="relative flex flex-col items-center justify-center h-screen w-full overflow-hidden">
      <div class="absolute inset-0 z-0">
          <img src="{% static 'images/mainbg.png' %}" 
               alt="Background" 
               class="w-full h-full object-cover scale-105 animate-[pulse_10s_infinite_ease-in-out]">
      </div>

      <div class="absolute bottom-0 left-0 w-full z-10 leading-none pointer-events-none">
          <div class="wave-animation absolute bottom-0 w-[200%] opacity-30 z-10" style="animation-duration: 25s;">
             <svg viewBox="0 0 1440 320" class="w-full h-auto block text-blue-900" fill="currentColor"><path d="M0,192L48,197.3C96,203,192,213,288,229.3C384,245,480,267,576,250.7C672,235,768,181,864,181.3C960,181,1056,235,1152,234.7C1248,235,1344,181,1392,154.7L1440,128L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path></svg>
          </div>
          <div class="wave-animation absolute bottom-0 w-[200%] opacity-50 z-20" style="animation-duration: 18s; animation-direction: reverse;">
             <svg viewBox="0 0 1440 320" class="w-full h-auto block text-cyan-500" fill="currentColor"><path d="M0,160L48,170.7C96,181,192,203,288,202.7C384,203,480,181,576,181.3C672,181,768,203,864,213.3C960,224,1056,224,1152,208C1248,192,1344,160,1392,144L1440,128L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path></svg>
          </div>
          <div class="wave-animation absolute bottom-0 w-[200%] opacity-90 z-30" style="animation-duration: 12s;">
             <svg viewBox="0 0 1440 320" class="w-full h-auto block">
                <defs>
                    <linearGradient id="waveGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                        <stop offset="0%" style="stop-color:#06b6d4;stop-opacity:1" /> 
                        <stop offset="100%" style="stop-color:#3b82f6;stop-opacity:1" /> 
                    </linearGradient>
                </defs>
                <path fill="url(#waveGradient)" d="M0,96L48,112C96,128,192,160,288,160C384,160,480,128,576,112C672,96,768,96,864,112C960,128,1056,160,1152,165.3C1248,171,1344,149,1392,138.7L1440,128L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path>
             </svg>
          </div>
      </div>

      <div class="relative z-40 container mx-auto px-4 flex flex-col items-center justify-center h-full pt-10">
          <h1 class="font-inter font-extrabold text-5xl md:text-7xl lg:text-8xl leading-tight tracking-tighter text-center mb-6 pb-2">
              <span class="text-transparent bg-clip-text bg-gradient-to-r from-[#FF0080] to-[#FFEA00] filter drop-shadow-sm">
                  Seu assistente<br>
                  tur√≠stico da Praia Grande
              </span>
          </h1>
          <p class="text-lg md:text-xl text-white font-medium max-w-2xl mx-auto mb-12 text-center drop-shadow-md">
             Descubra os segredos da orla, eventos exclusivos e a gastronomia local.
          </p>
          <a href="#recomendacoes" class="group relative flex items-center justify-center w-16 h-16 rounded-full bg-white/10 backdrop-blur-md border border-white/30 shadow-lg hover:scale-110 hover:border-white/50 transition-all duration-500">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" class="w-8 h-8 mt-1">
                  <defs>
                      <linearGradient id="arrowGradientHero" x1="0%" y1="0%" x2="100%" y2="100%">
                          <stop offset="0%" style="stop-color:#FF0080; stop-opacity:1" />
                          <stop offset="100%" style="stop-color:#FFEA00; stop-opacity:1" />
                      </linearGradient>
                  </defs>
                  <path stroke="url(#arrowGradientHero)" stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
              </svg>
          </a>
      </div>
  </section>

  <section id="recomendacoes" class="relative py-24 bg-white overflow-hidden z-20">
    
    <div class="container mx-auto px-4 relative z-10">
      
      <div class="text-center mb-16">
          <h2 class="text-4xl font-bold text-gray-900 tracking-tight mb-2">Explore por Categoria</h2>
          <div class="h-1.5 w-20 bg-gradient-to-r from-[#FF0080] to-[#FFEA00] mx-auto rounded-full"></div>
          <p class="text-gray-500 text-lg mt-4">Encontre o que combina com seu estilo.</p>
      </div>

      <div class="swiper swiper-recommendations !overflow-visible px-4 py-10">
        <div class="swiper-wrapper">
          
          {% for categoria in categorias %}
          
          <a href="{% url 'lista_recomendacoes_por_categoria' categoria.pk %}" 
             class="swiper-slide group relative block w-full rounded-[2.5rem] overflow-hidden shadow-2xl transition-all duration-500 hover:-translate-y-3"
             style="height: 500px;">
            
            <div class="absolute inset-0 w-full h-full bg-gray-800 rounded-[2.5rem] overflow-hidden">
                {% if categoria.imagem %}
                  <img src="{{ categoria.imagem.url }}" alt="{{ categoria.nome }}"
                       class="w-full h-full object-cover transition-transform duration-1000 group-hover:scale-110 rounded-[2.5rem]">
                {% else %}
                  <div class="w-full h-full bg-gradient-to-br from-gray-700 to-gray-900 flex items-center justify-center rounded-[2.5rem]">
                      <span class="text-4xl text-white/20 font-bold">{{ categoria.nome|slice:":1" }}</span>
                  </div>
                {% endif %}
            </div>

            <div class="absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent opacity-80 transition-opacity group-hover:opacity-60 rounded-[2.5rem]"></div>
            
            <div class="absolute top-8 left-8 z-30 opacity-0 group-hover:opacity-100 transition-all duration-500 group-hover:translate-y-0 translate-y-2">
                <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-black/40 backdrop-blur-[2px] border border-white/10 shadow-lg">
                    <span class="relative flex h-2 w-2">
                        <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-[#FFEA00] opacity-75"></span>
                        <span class="relative inline-flex rounded-full h-2 w-2 bg-[#FFEA00]"></span>
                    </span>
                    <p class="text-xs font-bold text-white uppercase tracking-widest">
                        {{ categoria.recomendacoes.count }} Locais
                    </p>
                </div>
            </div>

            <div class="absolute inset-0 p-8 flex flex-col justify-end z-20">
                
                <div class="flex items-center justify-between gap-4 w-full">
                    
                    <div class="flex-1 bg-white/20 backdrop-blur-md border border-white/30 px-6 py-4 rounded-full shadow-lg transition-transform duration-300 group-hover:translate-x-1">
                        <h3 class="text-xl font-bold text-white leading-none tracking-tight drop-shadow-md">
                            {{ categoria.nome }}
                        </h3>
                    </div>

                    <div class="flex-shrink-0">
                        <div class="flex items-center justify-center rounded-full 
                                    bg-white/20 backdrop-blur-md border border-white/30 shadow-2xl 
                                    group-hover:bg-white/30 group-hover:scale-110 transition-all duration-300"
                             style="width: 64px; height: 64px;"> 
                            
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" class="w-8 h-8 transition-transform duration-500 group-hover:rotate-45">
                                <defs>
                                    <linearGradient id="grad-{{ categoria.pk }}" x1="0%" y1="0%" x2="100%" y2="100%">
                                        <stop offset="0%" style="stop-color:#FF0080; stop-opacity:1" />
                                        <stop offset="100%" style="stop-color:#FFEA00; stop-opacity:1" />
                                    </linearGradient>
                                </defs>
                                <path stroke="url(#grad-{{ categoria.pk }})" stroke-linecap="round" stroke-linejoin="round" d="M4.5 19.5l15-15m0 0H8.25m11.25 0v11.25" />
                            </svg>
                        </div>
                    </div>

                </div>

            </div>
          
          </a>
          {% empty %}
            <div class="swiper-slide flex flex-col items-center justify-center rounded-[2.5rem] border-2 border-dashed border-gray-300 bg-gray-50" style="height: 500px;">
                <p class="text-gray-400">Nenhuma categoria</p>
            </div>
          {% endfor %}

        </div>
        <div class="swiper-pagination !bottom-0"></div>
      </div>
    </div>
  </section>

  <section id="mapa" class="py-20 bg-zinc-50 relative">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl md:text-4xl font-bold text-center text-zinc-900 mb-12">Mapa de Eventos</h2>
            <div class="w-full max-w-5xl mx-auto h-[400px] md:h-[600px] rounded-3xl overflow-hidden shadow-2xl border-[6px] border-white relative z-10">
                {{ mapa|safe }}
            </div>
        </div>
  </section>

  <section class="relative py-24 overflow-hidden bg-white">
      <div class="container mx-auto px-6 relative z-10 text-center">
          <h2 class="text-4xl md:text-5xl font-extrabold text-zinc-900 mb-6 tracking-tight">
              Explore Praia Grande<br>
              <span class="text-transparent bg-clip-text bg-gradient-to-r from-[#FF0080] to-[#FFEA00]">como Nunca Antes</span>
          </h2>
          <a href="#mapa" class="inline-flex items-center gap-2 bg-zinc-900 text-white font-bold py-4 px-10 rounded-full text-lg shadow-xl hover:shadow-2xl hover:scale-105 transition-all duration-300">
              Ver o Mapa Interativo
          </a>
      </div>
  </section>

  {% block extra_scripts %}
  <style>
      @keyframes waveMove {
          0% { transform: translateX(0); }
          100% { transform: translateX(-50%); }
      }
      .wave-animation {
          animation-name: waveMove;
          animation-timing-function: linear;
          animation-iteration-count: infinite;
      }
      .swiper-pagination-bullet-active {
          background-color: #FF0080 !important;
      }
  </style>

  <script>
   document.addEventListener('DOMContentLoaded', function () {
    const swiper = new Swiper('.swiper-recommendations', {
      loop: true,
      slidesPerView: 1.2,
      spaceBetween: 24,
      centeredSlides: false,
      grabCursor: true,
      pagination: {
          el: ".swiper-pagination",
          clickable: true,
        },
      breakpoints: {
        640: { slidesPerView: 2.2, spaceBetween: 24 },
        1024: { slidesPerView: 3.2, spaceBetween: 32 },
        1280: { slidesPerView: 4, spaceBetween: 32 },
      },
    });
  });
  </script>
  {% endblock extra_scripts %}
</main>
{% endblock %}